# ==============================================
# ‚òÅÔ∏è Weather Forecast App - Environment Variables
# ==============================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!

# ==============================================
# üåç Environment
# ==============================================
NODE_ENV=development
PORT=5000

# ==============================================
# üóÑÔ∏è MongoDB Database
# ==============================================
# Development (no auth)
MONGODB_URI=mongodb://localhost:27017/weather-app

# Production (with auth) - Uncomment and fill in:
# MONGODB_URI=mongodb://weather_user:your_secure_password@localhost:27017/weather-app?authSource=weather-app

# ==============================================
# üîê JWT & Session Secrets
# ==============================================
# IMPORTANT: Generate secure secrets using:
# node server/scripts/generate-secrets.js

JWT_SECRET=your-super-secret-jwt-key-min-32-chars
SESSION_SECRET=your-super-secret-session-key-min-32-chars
ENCRYPTION_KEY=your-32-char-encryption-key12

# JWT Configuration
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ==============================================
# üìß Email Configuration (Nodemailer)
# ==============================================
# Using Gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-specific-password

# Email settings
EMAIL_FROM=Weather Forecast <your-email@gmail.com>

# ==============================================
# ‚òÅÔ∏è Weather API (OpenWeatherMap)
# ==============================================
# Get your API key from: https://openweathermap.org/api
OPENWEATHER_API_KEY=your-openweathermap-api-key

# ==============================================
# üîë OAuth Providers
# ==============================================

# Google OAuth
# Get credentials: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

# Facebook OAuth (Optional)
# Get credentials: https://developers.facebook.com/apps
# FACEBOOK_APP_ID=your-facebook-app-id
# FACEBOOK_APP_SECRET=your-facebook-app-secret
# FACEBOOK_CALLBACK_URL=http://localhost:5000/api/auth/facebook/callback

# GitHub OAuth (Optional)
# Get credentials: https://github.com/settings/developers
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret
# GITHUB_CALLBACK_URL=http://localhost:5000/api/auth/github/callback

# ==============================================
# üîí Security Features
# ==============================================

# CORS Settings
CORS_ORIGIN=http://localhost:5173,http://localhost:5174
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# ü§ñ Google reCAPTCHA v3 (Optional)
# ==============================================
# Get keys from: https://www.google.com/recaptcha/admin
# Leave empty to disable CAPTCHA

# Backend (server/.env)
RECAPTCHA_SECRET_KEY=your-recaptcha-secret-key

# Frontend (root .env for Vite) - Add to root .env file:
# VITE_RECAPTCHA_SITE_KEY=your-recaptcha-site-key

# CAPTCHA Settings
RECAPTCHA_MIN_SCORE=0.5

# ==============================================
# üõ°Ô∏è IP Whitelisting (Optional)
# ==============================================
# Comma-separated list of IPs allowed to access admin routes
# Leave empty to disable IP whitelisting

IP_WHITELIST=127.0.0.1,::1

# ==============================================
# üìä Sentry Error Monitoring (Optional)
# ==============================================
# Get DSN from: https://sentry.io/
# Leave empty to disable Sentry

# Backend
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Frontend - Add to root .env file:
# VITE_SENTRY_DSN=your-sentry-dsn-here

# ==============================================
# üîê Two-Factor Authentication (2FA)
# ==============================================
# App name shown in authenticator apps
TWO_FACTOR_APP_NAME=Weather Forecast App

# ==============================================
# üåê Frontend URLs
# ==============================================
CLIENT_URL=http://localhost:5173
FRONTEND_URL=http://localhost:5173

# Password reset link expiration (milliseconds)
RESET_TOKEN_EXPIRY=3600000

# ==============================================
# üìù Logging
# ==============================================
# Log levels: error, warn, info, http, debug
LOG_LEVEL=info

# Log retention (days)
LOG_RETENTION_DAYS_COMBINED=14
LOG_RETENTION_DAYS_ERROR=30

# ==============================================
# üöÄ Production Only
# ==============================================
# Uncomment for production deployment

# HTTPS/SSL
# FORCE_HTTPS=true

# SSL Certificate paths (if using Node HTTPS server)
# SSL_KEY_PATH=/path/to/private-key.pem
# SSL_CERT_PATH=/path/to/certificate.pem

# MongoDB Production
# MONGODB_POOL_SIZE=10
# MONGODB_SSL=true

# Session Store (Redis for production)
# REDIS_URL=redis://localhost:6379

# ==============================================
# üß™ Testing & Development
# ==============================================
# Skip email sending in development
SKIP_EMAIL_SEND=false

# Enable verbose logging
DEBUG=false

# Mock external APIs
MOCK_EXTERNAL_APIS=false

# ==============================================
# üìö Notes
# ==============================================
# 1. Generate secrets: node server/scripts/generate-secrets.js
# 2. Setup MongoDB auth: node server/scripts/setup-mongodb-auth.js
# 3. Get Gmail app password: https://myaccount.google.com/apppasswords
# 4. Test configuration: node server/scripts/test-mongo.js
# 5. See ENV_VARIABLES.md for complete documentation
# 6. For production guide, see PRODUCTION_DEPLOYMENT.md

# ==============================================
# ‚úÖ Quick Start
# ==============================================
# 1. Copy this file: cp .env.example .env
# 2. Generate secrets: node server/scripts/generate-secrets.js
# 3. Add OpenWeather API key: OPENWEATHER_API_KEY=your-key
# 4. Add Gmail credentials: EMAIL_USER & EMAIL_PASS
# 5. Add Google OAuth: GOOGLE_CLIENT_ID & GOOGLE_CLIENT_SECRET
# 6. Start server: npm run dev
